# CLTLS-MQTT-GUI
## 适配[CL-TLS代理服务器](https://github.com/ErnestThePoet/CL-TLS)的MQTT客户端/服务端图形界面演示程序【毕业设计周边】

## MQTT客户端
### 建立连接
程序启动后，默认在Client选项卡，此时就是MQTT客户端界面。首先输入客户端CL-TLS代理服务器的IP和端口号，点击Connect按钮连接，然后在下方输入要连接的服务端CL-TLS代理服务器的ID，点击右侧的Connect按钮，即可与服务端建立连接。
### 传输数据
可以选择两种数据传输方式：文本传输和随机二进制数据传输。如选择Enter Text选项，则是文本传输，在输入框内输入的文本将以UTF-8编码发送；选择Enter Size选项，则是随机二进制数据传输，在输入框中输入想要生成的二进制载荷大小（例如`128`，`128K`，`128KB`，`128M`，`128MB`）即可。若想要将大小设为MQTT协议支持的最大载荷大小(`256MB-1`)，则可以输入`MAX`。完成输入后，点击PUBLISH，即可生成一个MQTT PUBLISH数据包，并通过CL-TLS代理服务器将数据包安全传输到服务端，同时界面上会展示数据包载荷的长度和SHA256摘要。待收到服务端的响应数据后，界面最下方也会展示响应数据的内容、载荷长度和载荷SHA256摘要。

## MQTT服务端
### 启动
程序启动后，切换到Server选项卡即是MQTT服务端界面，输入监听端口号后点击Start按钮启动即可。
### 处理数据
MQTT服务端收到载荷为文本的PUBLISH报文后，同样会向客户端发回载荷为文本的MQTT PUBLISH数据包，载荷内容为`It’s so nice to receive <之前收到的文本> from client via the CL-TLS protocol.`；若收到的报文载荷为随机二进制数据，则也会向客户端发回载荷为随机二进制数据的MQTT PUBLISH数据包，其载荷是服务端新随机生成的，长度与客户端发来的相同。
